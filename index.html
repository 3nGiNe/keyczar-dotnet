<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Keyczar-dotnet by jbtule</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Keyczar-dotnet</h1>
        <h2>C# implementation of Google's high level encryption API known as Keyczar.</h2>
        <a href="https://github.com/jbtule/keyczar-dotnet" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>Keyczar dotnet</h1>

<p>Implemented in C# 4 to match up with the Java/Python/C++ Keyczar standard features and will interoperate with them by default. Uses BouncyCastle as backend for most encryption. Official keyczar site: <a href="http://keyczar.org">http://keyczar.org</a></p>

<h2>Binary Release</h2>

<p><code>Keyczar.dll</code> and <code>KeyczarTool.exe</code> can be added to your project using <a href="http://nuget.org">NuGet</a></p>

<pre><code>PM&gt; Install-Package Keyczar -Pre
</code></pre>

<p>Although it's currently listed as pre-release in NuGet, Keyczar-dotnet currently has over <strong>500</strong> unit tests providing <strong>90%</strong> code coverage and is tested against python and java Keyczar produced data as well. Because it is a security framework I'm going to keep it conservatively listed under pre-release until more eyes have been on the code.</p>

<p>Source Code for debugging NuGet provided binaries can be downloaded automatically in Visual Studio by configuring <a href="http://www.symbolsource.org/Public/Home/VisualStudio">SymbolSource.org</a>.</p>

<h2>Usage</h2>

<p><code>KeyczarTool.exe</code> provides the primary mechanism for creating and managing keysets. Calling <code>KeyczarTool.exe</code> from the command line without flags will display usage. Use it to create your key set first and use it to rotate your keys later.</p>

<p>Once you have your key set the basic api is very simple to use for encryption:</p>

<div class="highlight"><pre><span class="kt">string</span> <span class="n">plaintext</span> <span class="p">=</span> <span class="s">"Secret Message"</span>
<span class="n">WebBase64</span> <span class="n">ciphertext</span><span class="p">;</span>
<span class="c1">//encrypting</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">encrypter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Encrypter</span><span class="p">(</span><span class="s">"path_to_keyset"</span><span class="p">))</span>
<span class="p">{</span>
    <span class="n">ciphertext</span> <span class="p">=</span> <span class="n">encrypter</span><span class="p">.</span><span class="n">Encrypt</span><span class="p">(</span><span class="n">plaintext</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">//decrypting</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">crypter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Crypter</span><span class="p">(</span><span class="s">"path_to_keyset"</span><span class="p">)){</span>
    <span class="kt">var</span> <span class="n">plaintext2</span> <span class="p">=</span> <span class="n">crypter</span><span class="p">.</span><span class="n">Decrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

<p>and for signatures:</p>

<div class="highlight"><pre><span class="kt">string</span> <span class="n">plaintext</span> <span class="p">=</span> <span class="s">"A Message"</span>
<span class="n">WebBase64</span> <span class="n">signature</span><span class="p">;</span>
<span class="c1">//signing</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">signer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Signer</span><span class="p">(</span><span class="s">"path_to_keyset"</span><span class="p">))</span>
<span class="p">{</span>
    <span class="n">signature</span> <span class="p">=</span> <span class="n">signer</span><span class="p">.</span><span class="n">Sign</span><span class="p">(</span><span class="n">plaintext</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">//verifying</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">verifier</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Verifier</span><span class="p">(</span><span class="s">"path_to_keyset"</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">isVerified</span> <span class="p">=</span> <span class="n">verifier</span><span class="p">.</span><span class="n">Verify</span><span class="p">(</span><span class="n">plaintext</span><span class="p">,</span> <span class="n">signature</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>See more usage and documentation in the <a href="http://github.com/jbtule/keyczar-dotnet/wiki">Wiki</a>.</p>

<h2>Dependencies</h2>

<ul>
<li>.net 4.0 or mono v2.10</li>
</ul><h4>Keyczar.dll</h4>

<ul>
<li><a href="http://www.bouncycastle.org/csharp/">BouncyCastle 1.7.0 or later</a></li>
<li><a href="http://dotnetzip.codeplex.com/">DotNetZip 1.9.1.8 or later</a></li>
<li><a href="http://json.codeplex.com/">Newtonsoft.Json 4.5.8 or later</a></li>
</ul><h4>KeyczarTool.exe</h4>

<ul>
<li><a href="https://github.com/fschwiet/ManyConsole">ManyConsole 0.4.2.8 or later</a></li>
<li><a href="http://www.ndesk.org/Options">NDesk.Options 0.2.1 or later</a></li>
<li><a href="https://github.com/jbtule/diminish-dependencies">DiminishDependencies 1.1.3 or later</a></li>
</ul><h4>KeyczarTest.dll</h4>

<ul>
<li><a href="http://www.nunit.org/">NUnit 2.6.1 or later</a></li>
</ul><h2>Build</h2>

<h4>Visual Studio 2010 or Later / MSBuild</h4>

<p>Dependencies should be downloaded automaticially with <a href="http://nuget.org">NuGet</a> which is integrated into the solution. Build all should trigger nuget to download all dependencies from Visual Studio or MSBuild. </p>

<h4>MonoDevelop 3.04 or Later / xbuild</h4>

<p>Run <code>MonoRestoreNugetPackages.sh</code> script first to restore NuGet dependency then you may build from MonoDevelop with <code>Build All</code> or with just xbuild run <code>xbuild Keyczar.sln</code>.</p>

<ul>
<li>Keyczar

<ul>
<li>Mono 2.10 

<ul>
<li>master <a href="https://travis-ci.org/jbtule/keyczar-dotnet"><img src="https://travis-ci.org/jbtule/keyczar-dotnet.png?branch=master" alt="Build Status"></a>
</li>
</ul>
</li>
</ul>
</li>
</ul><p>See more in <a href="http://github.com/jbtule/keyczar-dotnet/wiki/Building-or-Testing-Keyczar-dotnet-in-Depth">Building in Depth</a>.</p>

<h2>Contribute</h2>

<p>Code contribution, reported issues or code reviews welcome! Pull requests are automatically built and tested with <a href="https://travis-ci.org/jbtule/keyczar-dotnet">Travis CI</a>.</p>

<h2>Compatibility</h2>

<ul>
<li>Should interoperate with java/python/c++ with standard api</li>
<li>All unofficial/incompatible api changes are under the unofficial names space to be clear what won't interoperate with java/python/c++</li>
<li>Currently the only unofficial algorithm is <em>AES-GCM</em> (<code>KeyType=C#_AES_AEAD</code>) using the unofficial flag on the KeyczarTool will use it to replace <em>AES-Then-HmacSha1</em>
</li>
<li>
<code>VanillaSigner</code> and <code>VanillaVerifier</code> are feature identical to java/python/c++ <code>UnversionedSigner</code> and <code>UnversionedVerifer</code>
</li>
<li>The Functionality of java/python/c++ <code>SessionEncrypter</code>, <code>SessionDecrypter</code>, <code>SignedSessionEncrypter</code>, and <code>SignedSessionDecrypter</code> are provided by the C# <code>SessionCrypter</code> via constructor arguments.</li>
</ul>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/jbtule/keyczar-dotnet/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/jbtule/keyczar-dotnet/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/jbtule/keyczar-dotnet"></a> is maintained by <a href="https://github.com/jbtule">jbtule</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-74886-9");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>